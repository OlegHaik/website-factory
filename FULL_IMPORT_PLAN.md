# üéØ –ü–ª–∞–Ω –ø–æ–≤–Ω–æ–≥–æ —ñ–º–ø–æ—Ä—Ç—É MASTER_SPINTEXT

## ‚úÖ –©–æ —Ä–æ–±–∏–º–æ:
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **–í–°–Ü –¥–∞–Ω—ñ** –∑ MASTER_SPINTEXT (192 FAQ, 100 testimonials, 96 services, etc.)

---

## üìã –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø–ª–∞–Ω:

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—ñ —Ç–∞–±–ª–∏—Ü—ñ ‚öôÔ∏è

**–£ Supabase SQL Editor –≤–∏–∫–æ–Ω–∞–π—Ç–µ:**

```sql
-- –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª MIGRATION_new_structure.sql
-- –°–∫–æ–ø—ñ—é–π—Ç–µ —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ SQL –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–∞–±–ª–∏—Ü—å
```

**–©–æ —Å—Ç–≤–æ—Ä–∏—Ç—å:**
- `content_faq_new` - –¥–ª—è –≤—Å—ñ—Ö FAQ (12 –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é √ó 16 = 192 rows)
- `content_testimonials_new` - –¥–ª—è –≤—Å—ñ—Ö –≤—ñ–¥–≥—É–∫—ñ–≤ (15 –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é √ó 16 = 240 rows max)
- `content_services_new` - –¥–ª—è –≤—Å—ñ—Ö –ø–æ—Å–ª—É–≥ (6 –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é √ó 16 = 96 rows)

---

### –ö—Ä–æ–∫ 2: –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –≤ –Ω–æ–≤—ñ —Ç–∞–±–ª–∏—Ü—ñ üì•

```bash
node import-full-master-spintext.js "MASTER_SPINTEXT_ALL CATEGORIES_FINAL.xlsx"
```

**–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è:**
```
üì• –ü–û–í–ù–ò–ô —ñ–º–ø–æ—Ä—Ç MASTER_SPINTEXT

üìÑ –§–∞–π–ª: MASTER_SPINTEXT_ALL CATEGORIES_FINAL.xlsx
üóÑÔ∏è  –¢–∞–±–ª–∏—Ü—ñ: –ù–û–í–Ü (_new)

üìä –û–±—Ä–æ–±–∫–∞: HERO ‚Üí content_hero_new
   –ó–Ω–∞–π–¥–µ–Ω–æ: 16 —Ä—è–¥–∫—ñ–≤
   –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–æ: 16 —Ä—è–¥–∫—ñ–≤
   ‚úÖ –£—Å–ø—ñ—à–Ω–æ: 16, –ü–æ–º–∏–ª–æ–∫: 0

üìä –û–±—Ä–æ–±–∫–∞: MENU ‚Üí content_header_new
   –ó–Ω–∞–π–¥–µ–Ω–æ: 1600 —Ä—è–¥–∫—ñ–≤
   –í—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω–æ –¥–æ: 16 —Ä—è–¥–∫—ñ–≤
   –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–æ: 16 —Ä—è–¥–∫—ñ–≤
   ‚úÖ –£—Å–ø—ñ—à–Ω–æ: 16, –ü–æ–º–∏–ª–æ–∫: 0

üìä –û–±—Ä–æ–±–∫–∞: FAQ ‚Üí content_faq_new
   –ó–Ω–∞–π–¥–µ–Ω–æ: 192 —Ä—è–¥–∫—ñ–≤
   –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–æ: 192 —Ä—è–¥–∫—ñ–≤
   ‚úÖ –£—Å–ø—ñ—à–Ω–æ: 192, –ü–æ–º–∏–ª–æ–∫: 0

üìä –û–±—Ä–æ–±–∫–∞: TESTIMONIALS ‚Üí content_testimonials_new
   –ó–Ω–∞–π–¥–µ–Ω–æ: 100 —Ä—è–¥–∫—ñ–≤
   –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–æ: 100 —Ä—è–¥–∫—ñ–≤
   ‚úÖ –£—Å–ø—ñ—à–Ω–æ: 100, –ü–æ–º–∏–ª–æ–∫: 0

üìä –û–±—Ä–æ–±–∫–∞: SERVICES_GRID ‚Üí content_services_new
   –ó–Ω–∞–π–¥–µ–Ω–æ: 96 —Ä—è–¥–∫—ñ–≤
   –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤–∞–Ω–æ: 96 —Ä—è–¥–∫—ñ–≤
   ‚úÖ –£—Å–ø—ñ—à–Ω–æ: 96, –ü–æ–º–∏–ª–æ–∫: 0

üéâ –Ü–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
‚úÖ –£—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ: 420+ —Ä—è–¥–∫—ñ–≤
```

---

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ ‚úì

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
node -e "
require('dotenv').config({ path: '.env.local' });
const {createClient} = require('@supabase/supabase-js');
const supabase = createClient(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);

(async () => {
  const tables = ['content_faq_new', 'content_testimonials_new', 'content_services_new'];
  for (const table of tables) {
    const {count} = await supabase.from(table).select('*', {count: 'exact', head: true});
    console.log(\`\${table}: \${count} rows\`);
  }
})();
"
```

**–û—á—ñ–∫—É—î–º–æ:**
```
content_faq_new: 192 rows
content_testimonials_new: 100 rows
content_services_new: 96 rows
```

---

### –ö—Ä–æ–∫ 4: –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–¥ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–∞–±–ª–∏—Ü—å üîß

**–§–∞–π–ª–∏ —è–∫—ñ —Ç—Ä–µ–±–∞ –æ–Ω–æ–≤–∏—Ç–∏:**

#### `lib/fetch-content.ts`

–ó–∞–º—ñ–Ω–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞ –Ω–æ–≤—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:

```typescript
// FAQ - –Ω–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
export async function getContentFAQ(category: string) {
  const { data } = await supabase
    .from('content_faq')
    .select('*')
    .eq('category', category)
    .order('faq_id')
  
  // –ì—Ä—É–ø—É—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
  const faqs = []
  for (let i = 0; i < data.length; i += 2) {
    const question = data[i]
    const answer = data[i + 1]
    if (question && answer) {
      faqs.push({
        question: question.content,
        answer: answer.content
      })
    }
  }
  
  return faqs
}

// Testimonials - –Ω–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
export async function getContentTestimonials(category: string) {
  const { data } = await supabase
    .from('content_testimonials')
    .select('*')
    .eq('category', category)
    .order('testimonial_num')
    .limit(3) // –ü–æ–∫–∞–∑—É—î–º–æ –ø–µ—Ä—à—ñ 3
  
  return data?.map(t => ({
    name: t.testimonial_name,
    text: t.testimonial_body,
    rating: t.rating
  })) || []
}

// Services - –Ω–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
export async function getContentServices(category: string) {
  const { data } = await supabase
    .from('content_services')
    .select('*')
    .eq('category', category)
    .order('service_id')
  
  return data?.map(s => ({
    id: s.service_id,
    name: s.service_name,
    nameSpin: s.service_name_spin,
    slug: s.service_slug,
    description: s.svc_grid_desc
  })) || []
}
```

---

### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏ —Ç–∞–±–ª–∏—Ü—ñ –Ω–∞ production üîÑ

**–ö–æ–ª–∏ –≤—Å–µ –ø—Ä–∞—Ü—é—î - –≤–∏–∫–æ–Ω–∞–π—Ç–µ –≤ SQL Editor:**

```sql
-- Backup —Å—Ç–∞—Ä–∏—Ö —Ç–∞–±–ª–∏—Ü—å
ALTER TABLE content_faq RENAME TO content_faq_old_backup;
ALTER TABLE content_testimonials RENAME TO content_testimonials_old_backup;
ALTER TABLE content_services RENAME TO content_services_old_backup;

-- –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∞–±–ª–∏—Ü—ñ
ALTER TABLE content_faq_new RENAME TO content_faq;
ALTER TABLE content_testimonials_new RENAME TO content_testimonials;
ALTER TABLE content_services_new RENAME TO content_services;

-- –î–æ–¥–∞—Ç–∏ RLS policies
ALTER TABLE content_faq ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Allow public read" ON content_faq FOR SELECT USING (true);

ALTER TABLE content_testimonials ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Allow public read" ON content_testimonials FOR SELECT USING (true);

ALTER TABLE content_services ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Allow public read" ON content_services FOR SELECT USING (true);
```

---

### –ö—Ä–æ–∫ 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è üß™

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ dev
npm run dev

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:
# 1. Homepage –ø–æ–∫–∞–∑—É—î FAQ (–≤—Å—ñ 6 –ø–∏—Ç–∞–Ω—å)
# 2. Testimonials –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è
# 3. Services grid –ø—Ä–∞—Ü—é—î
# 4. –°–ø—ñ–Ω—Ç–µ–∫—Å—Ç –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

---

## üö® Rollback (—è–∫—â–æ —â–æ—Å—å –Ω–µ —Ç–∞–∫)

```sql
-- –í–∏–¥–∞–ª–∏—Ç–∏ –Ω–æ–≤—ñ —Ç–∞–±–ª–∏—Ü—ñ
DROP TABLE IF EXISTS content_faq;
DROP TABLE IF EXISTS content_testimonials;
DROP TABLE IF EXISTS content_services;

-- –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ —Å—Ç–∞—Ä—ñ
ALTER TABLE content_faq_old_backup RENAME TO content_faq;
ALTER TABLE content_testimonials_old_backup RENAME TO content_testimonials;
ALTER TABLE content_services_old_backup RENAME TO content_services;
```

---

## ‚úÖ Checklist

–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º:
- [ ] Backup —ñ—Å–Ω—É—é—á–∏—Ö –¥–∞–Ω–∏—Ö (–≤–∂–µ —î: `supabase-export-1768436149990.xlsx`)
- [ ] SQL –º—ñ–≥—Ä–∞—Ü—ñ—è –≥–æ—Ç–æ–≤–∞ (`MIGRATION_new_structure.sql`)
- [ ] –Ü–º–ø–æ—Ä—Ç —Å–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤–∏–π (`import-full-master-spintext.js`)

–í–∏–∫–æ–Ω–∞–Ω–Ω—è:
- [ ] –°—Ç–≤–æ—Ä–µ–Ω—ñ –Ω–æ–≤—ñ —Ç–∞–±–ª–∏—Ü—ñ (_new)
- [ ] –Ü–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ –≤—Å—ñ –¥–∞–Ω—ñ –≤ _new —Ç–∞–±–ª–∏—Ü—ñ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å rows
- [ ] –û–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ –Ω–∞ dev
- [ ] –ü–µ—Ä–µ–π–º–µ–Ω–æ–≤–∞–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ –Ω–∞ production

–ü—ñ—Å–ª—è:
- [ ] –°–∞–π—Ç –ø—Ä–∞—Ü—é—î
- [ ] –í—Å—ñ –¥–∞–Ω—ñ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è
- [ ] –°–ø—ñ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–∞—Ü—é—î
- [ ] –í–∏–¥–∞–ª–µ–Ω—ñ backup —Ç–∞–±–ª–∏—Ü—ñ (—á–µ—Ä–µ–∑ —Ç–∏–∂–¥–µ–Ω—å)

---

## üéØ –ì–æ—Ç–æ–≤—ñ –ø–æ—á–∞—Ç–∏?

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Supabase SQL Editor
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ `MIGRATION_new_structure.sql`
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `node import-full-master-spintext.js`

**–ü–æ—ó—Ö–∞–ª–∏! üöÄ**
